"use strict";(self.webpackChunkChemicalDetection=self.webpackChunkChemicalDetection||[]).push([[223],{42722:function(e,t,a){a.d(t,{Z:function(){return l}});var n={data(){return{dnofold:!1,dunflod:!1,newkeyWord:this.keyWord}},props:{keyWord:String||"",loading:Boolean||!1,nofold:Boolean||!1,unflod:Boolean||!1,btnlg:Number||8},emits:["emReset","emQuery","update:keyWord"],created(){this.dnofold=Boolean(this.nofold),this.dunflod=Boolean(this.unflod)},methods:{fnTest(){}}},l=(0,a(1001).Z)(n,(function(){var e=this,t=e._self._c;return t("div",[t("a-form",{directives:[{name:"show",rawName:"v-show",value:!e.dunflod,expression:"!dunflod"}],staticClass:"inline-form",staticStyle:{"margin-bottom":"10px",display:"flex","justify-content":"end"},attrs:{layout:"inline"}},[e._t("COND1",(function(){return[t("a-form-item",{attrs:{label:"关键字搜索"}},[t("a-input-search",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入搜索关键字",allowClear:""},on:{change:function(t){return e.$emit("update:keyWord",e.newkeyWord)},search:function(t){return e.$emit("emQuery",null)}},model:{value:e.newkeyWord,callback:function(t){e.newkeyWord=t},expression:"newkeyWord"}})],1)]})),t("a-form-item",{staticStyle:{"margin-right":"0"}},[t("a-space",[e._t("BTNS",(function(){return[t("a-button",{staticClass:"cant-btn-default",attrs:{type:"default",loading:e.loading},on:{click:function(t){return e.$emit("emReset",null)}}},[e._v("重置")]),t("a-button",{staticClass:"cant-btn-default",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.$emit("emQuery",null)}}},[e._v("搜索")]),e.dnofold?e._e():[t("a-button",{directives:[{name:"show",rawName:"v-show",value:!e.dunflod,expression:"!dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(t){e.dunflod=!e.dunflod}}},[e._v("高级"),t("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-down"}})],1),t("a-button",{directives:[{name:"show",rawName:"v-show",value:e.dunflod,expression:"dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(t){e.dunflod=!e.dunflod}}},[e._v("收起"),t("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-up"}})],1)],e._t("BTNSPUSH")]}))],2)],1)],2),t("a-form",{directives:[{name:"show",rawName:"v-show",value:!e.dnofold&&e.dunflod,expression:"!dnofold && dunflod"}],staticClass:"inline-form",staticStyle:{"margin-bottom":"-10px"},attrs:{layout:"horizontal",labelCol:{style:{width:"100px"}}}},[t("a-row",{attrs:{gutter:[30,0]}},[e._t("COND2"),t("a-col",{attrs:{span:24,lg:e.btnlg}},[t("a-form-item",{staticClass:"fr"},[t("a-space",[e._t("BTNS",(function(){return[t("a-button",{staticClass:"cant-btn-default",attrs:{type:"default",loading:e.loading},on:{click:function(t){return e.$emit("emReset",null)}}},[e._v("重置")]),t("a-button",{staticClass:"cant-btn-default",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.$emit("emQuery",null)}}},[e._v("搜索")]),e.dnofold?e._e():[t("a-button",{directives:[{name:"show",rawName:"v-show",value:!e.dunflod,expression:"!dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(t){e.dunflod=!e.dunflod}}},[e._v("高级"),t("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-down"}})],1),t("a-button",{directives:[{name:"show",rawName:"v-show",value:e.dunflod,expression:"dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(t){e.dunflod=!e.dunflod}}},[e._v("收起"),t("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-up"}})],1)],e._t("BTNSPUSH")]}))],2)],1)],1)],2)],1)],1)}),[],!1,null,null,null).exports},4223:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(2670),l=a(57492),s=a(42722),o=a(55743),i=a.n(o),r={data(){return{dQparm:{name:"",startDate:null,endDate:null,divisionID:null,caseCategoryID:void 0,clueCategoryID:void 0}}},props:{loading:{type:Boolean,default:!1}},computed:{isAdmin:function(){return this.$store&&this.$store.state&&this.$store.state.user&&this.$store.state.user.roles.indexOf("admin")>=0}},components:{TableQuery:s.Z},async created(){this.fnReset(),this.init(),this.isAdmin||(this.dQparm.divisionID=this.$store.state.user.division_id)},methods:{async init(){},fnReset(){this.dQparm={name:"",startDate:null,endDate:null,divisionID:null,caseCategoryID:void 0,clueCategoryID:void 0}},fnQuery(){let e={};this.dQparm.name&&this.dQparm.name.length>0&&(e.name=this.dQparm.name.trim()),this.dQparm.startDate&&i()(this.dQparm.startDate).isValid()&&(e.startDate=this.dQparm.startDate.toJSON()),this.dQparm.endDate&&i()(this.dQparm.endDate).isValid()&&(e.endDate=this.dQparm.endDate.toJSON()),this.dQparm.divisionID&&this.dQparm.divisionID>0&&(e.divisionID=this.dQparm.divisionID),this.dQparm.caseCategoryID&&this.dQparm.caseCategoryID>0&&(e.caseCategoryID=this.dQparm.caseCategoryID),this.dQparm.clueCategoryID&&this.dQparm.clueCategoryID>0&&(e.clueCategoryID=this.dQparm.clueCategoryID),this.$emit("emQuery",e)}}},d=a(1001),c=(0,d.Z)(r,(function(){var e=this,t=e._self._c;return t("TableQuery",{attrs:{keyWord:e.dQparm.name,loading:e.loading,btnlg:24},on:{"update:keyWord":function(t){return e.$set(e.dQparm,"name",t)},"update:key-word":function(t){return e.$set(e.dQparm,"name",t)},emReset:e.fnReset,emQuery:e.fnQuery},scopedSlots:e._u([{key:"COND1",fn:function(){return[t("a-form-item",{attrs:{label:"关键字搜索:"}},[t("a-input-search",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入搜索关键字",allowClear:""},on:{search:e.fnQuery},model:{value:e.dQparm.name,callback:function(t){e.$set(e.dQparm,"name",t)},expression:"dQparm.name"}})],1)]},proxy:!0},{key:"COND2",fn:function(){return[t("a-col",{attrs:{span:24,lg:8}},[t("a-form-item",{attrs:{label:"行政区划"}},[t("a-tree-select",{attrs:{treeData:e.$AREA,replaceFields:{title:"name",value:"id",children:"children",key:"id"},placeholder:"请选择行政区划","allow-clear":"",disabled:!e.isAdmin},model:{value:e.dQparm.divisionID,callback:function(t){e.$set(e.dQparm,"divisionID",t)},expression:"dQparm.divisionID"}})],1)],1),t("a-col",{attrs:{span:24,lg:8}},[t("a-form-item",{attrs:{label:"案件类型"}},[t("a-select",{attrs:{allowClear:"",placeholder:"请选择督办类别"},model:{value:e.dQparm.caseCategoryID,callback:function(t){e.$set(e.dQparm,"caseCategoryID",t)},expression:"dQparm.caseCategoryID"}},e._l(e.$DICT.filter((e=>"d_caseCategory"==e.tableName)),(function(a){return t("a-select-option",{attrs:{value:a.fid}},[e._v(e._s(a.name))])})),1)],1)],1),t("a-col",{attrs:{span:24,lg:8}},[t("a-form-item",{attrs:{label:"线索类别"}},[t("a-select",{attrs:{allowClear:"",placeholder:"请选择线索类别"},model:{value:e.dQparm.clueCategoryID,callback:function(t){e.$set(e.dQparm,"clueCategoryID",t)},expression:"dQparm.clueCategoryID"}},e._l(e.$DICT.filter((e=>"d_clueCategory"==e.tableName)),(function(a){return t("a-select-option",{attrs:{value:a.fid}},[e._v(e._s(a.name))])})),1)],1)],1),t("a-col",{attrs:{span:24,lg:8}},[t("a-form-item",{attrs:{label:"区县自侦"}},[t("a-select",{attrs:{allowClear:"",placeholder:"请选择是否区县自侦"},model:{value:e.dQparm.isCreatedByCounty,callback:function(t){e.$set(e.dQparm,"isCreatedByCounty",t)},expression:"dQparm.isCreatedByCounty"}},[t("a-select-option",{attrs:{value:1}},[e._v("是")]),t("a-select-option",{attrs:{value:0}},[e._v("否")])],1)],1)],1),t("a-col",{attrs:{span:24,lg:8}},[t("a-form-item",{attrs:{label:"查询起始时间"}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入起始时间","show-time":""},model:{value:e.dQparm.startDate,callback:function(t){e.$set(e.dQparm,"startDate",t)},expression:"dQparm.startDate"}})],1)],1),t("a-col",{attrs:{span:24,lg:8}},[t("a-form-item",{attrs:{label:"查询终止时间"}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入终止时间","show-time":""},model:{value:e.dQparm.endDate,callback:function(t){e.$set(e.dQparm,"endDate",t)},expression:"dQparm.endDate"}})],1)],1)]},proxy:!0},{key:"BTNSPUSH",fn:function(){return[t("a-button",{staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(t){return e.$emit("emAdd",null)}}},[e._v("添加")])]},proxy:!0}])})}),[],!1,null,null,null).exports,u=a(88011),m={extends:n.AS,components:{SonsClue:u.Z},data(){return{schema:l.Z}},async mounted(){},methods:{}},f=(0,d.Z)(m,(function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{visible:e.dObj.show,title:(e.dObj.mod&&e.dObj.mod.fid>0?"修改":"新增")+e.dObj.title,width:1060,maskClosable:!1},on:{ok:function(t){return e.Save()},cancel:function(t){return e.Cancel()}}},[t("a-spin",{attrs:{spinning:e.dObj.load,tip:e.dObj.title+"可编辑数据加载中..."}},[t("div",{style:e.dObj.load?"min-height:280px":""},[null!=e.dObj.mod?t("a-form-model",{ref:"editref",staticClass:"inline-form",attrs:{model:e.dObj.mod,rules:e.dObj.rules,labelCol:{style:{minWidth:"130px"}},layout:"horizontal",labelAlign:"left"}},[t("input",{attrs:{type:"hidden"},domProps:{value:e.dObj.mod.fid}}),t("a-row",{staticClass:"column2",staticStyle:{"margin-right":"0"},attrs:{gutter:[32,0]}},[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"线索",prop:"name",autoLink:!1}},[t("SonsClue",{attrs:{obj:e.dObj.mod.Clue},on:{"update:obj":[function(t){return e.$set(e.dObj.mod,"Clue",t)},t=>{e.dObj.mod.clueID=t.fid}]}})],1)],1),e.dObj.mod.Clue?t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"行政区划",prop:"divisionID"}},[t("a-tree-select",{attrs:{disabled:!0,treeData:e.$AREA,replaceFields:{title:"name",value:"id",children:"children",key:"id"},placeholder:"请选择上级行政区划","allow-clear":""},model:{value:e.dObj.mod.Clue.divisionID,callback:function(t){e.$set(e.dObj.mod.Clue,"divisionID",t)},expression:"dObj.mod.Clue.divisionID"}})],1)],1):e._e(),e.dObj.mod.Clue?t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"线索编号",prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入线索编号",allowClear:"",disabled:!0},model:{value:e.dObj.mod.Clue.clueCode,callback:function(t){e.$set(e.dObj.mod.Clue,"clueCode",t)},expression:"dObj.mod.Clue.clueCode"}})],1)],1):e._e(),e.dObj.mod.Clue?t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"督办类别",prop:"caseCategoryID"}},[t("a-select",{attrs:{allowClear:"",placeholder:"请选择督办类别",disabled:!0},model:{value:e.dObj.mod.Clue.caseCategoryID,callback:function(t){e.$set(e.dObj.mod.Clue,"caseCategoryID",t)},expression:"dObj.mod.Clue.caseCategoryID"}},e._l(e.$DICT.filter((e=>"d_caseCategory"==e.tableName)),(function(a){return t("a-select-option",{attrs:{value:a.fid}},[e._v(e._s(a.name))])})),1)],1)],1):e._e(),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"样品名称",prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入样品名称",allowClear:""},model:{value:e.dObj.mod.name,callback:function(t){e.$set(e.dObj.mod,"name",t)},expression:"dObj.mod.name"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"送检时间",prop:"deliverDate"}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入反馈时间","show-time":"",allowClear:""},model:{value:e.dObj.mod.deliverDate,callback:function(t){e.$set(e.dObj.mod,"deliverDate",t)},expression:"dObj.mod.deliverDate"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"快检结果",prop:"quickCheckResultID"}},[t("a-select",{attrs:{allowClear:"",placeholder:"请选择快检结果"},model:{value:e.dObj.mod.quickCheckResultID,callback:function(t){e.$set(e.dObj.mod,"quickCheckResultID",t)},expression:"dObj.mod.quickCheckResultID"}},e._l(e.$DICT.filter((e=>"d_quickCheckResult"==e.tableName)),(function(a){return t("a-select-option",{attrs:{value:a.fid}},[e._v(e._s(a.name))])})),1)],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"快检时间",prop:"quickCheckDate"}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入反馈时间","show-time":"",allowClear:""},model:{value:e.dObj.mod.quickCheckDate,callback:function(t){e.$set(e.dObj.mod,"quickCheckDate",t)},expression:"dObj.mod.quickCheckDate"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"司法鉴定结果",prop:"identifyResultID"}},[t("a-select",{attrs:{allowClear:"",placeholder:"请选择司法鉴定结果"},model:{value:e.dObj.mod.identifyResultID,callback:function(t){e.$set(e.dObj.mod,"identifyResultID",t)},expression:"dObj.mod.identifyResultID"}},e._l(e.$DICT.filter((e=>"d_identifyResult"==e.tableName)),(function(a){return t("a-select-option",{attrs:{value:a.fid}},[e._v(e._s(a.name))])})),1)],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{attrs:{label:"司法鉴定时间",prop:"identifyDate"}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入反馈时间","show-time":"",allowClear:""},model:{value:e.dObj.mod.identifyDate,callback:function(t){e.$set(e.dObj.mod,"identifyDate",t)},expression:"dObj.mod.identifyDate"}})],1)],1)],1)],1):t("a-empty",{directives:[{name:"show",rawName:"v-show",value:!e.dObj.load,expression:"!dObj.load"}]})],1)])],1)}),[],!1,null,null,null).exports,p={extends:n.v6,data(){return{schema:l.Z}},async mounted(){},methods:{}},b=(0,d.Z)(p,(function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{visible:e.dObj.show,title:e.dObj.title+"详情",maskClosable:!1,width:980},on:{cancel:function(t){e.dObj.show=!1},ok:function(t){e.dObj.show=!1}}},[t("a-spin",{attrs:{spinning:e.dObj.load,tip:e.dObj.title+"详情数据加载中..."}},[t("div",{style:e.dObj.load?"min-height:280px":""},[e.dObj.mod?t("a-tabs",[t("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[t("a-descriptions",{staticClass:"column2",attrs:{column:2,contentStyle:{opacity:.75},bordered:""}},[e.dObj.mod.Clue?[t("a-descriptions-item",{attrs:{label:"行政区划",span:1}},[e._v(e._s(e._f("AREA")(e.dObj.mod.Clue.divisionID)))]),t("a-descriptions-item",{attrs:{label:"线索编号",span:1}},[e._v(e._s(e.dObj.mod.Clue.clueCode))]),t("a-descriptions-item",{attrs:{label:"督办类别",span:1}},[e._v(e._s(e._f("DICT")(e.dObj.mod.Clue.caseCategoryID,"d_caseCategory")))])]:e._e(),t("a-descriptions-item",{attrs:{label:"样品名称",span:1}},[e._v(e._s(e.dObj.mod.name))]),t("a-descriptions-item",{attrs:{label:"样品编号",span:1}},[e._v(e._s(e.dObj.mod.sampleCode))]),t("a-descriptions-item",{attrs:{label:"创建时间",span:1}},[e._v(e._s(e._f("DATE")(e.dObj.mod.createDate)))]),t("a-descriptions-item",{attrs:{label:"修改时间",span:1}},[e._v(e._s(e._f("DATE")(e.dObj.mod.modifyDate)))]),t("a-descriptions-item",{attrs:{label:"送检时间",span:1}},[e._v(e._s(e._f("DATE")(e.dObj.mod.deliverDate)))]),t("a-descriptions-item",{attrs:{label:"快检时间",span:1}},[e._v(e._s(e._f("DATE")(e.dObj.mod.quickCheckDate)))]),t("a-descriptions-item",{attrs:{label:"快检结果",span:1}},[t("a-tag",{attrs:{color:["#f50f50","#2db7f5","#87d068","#108ee9"][parseInt(e.dObj.mod.quickCheckResultID)/4],size:"small"}},[e._v(" "+e._s(e._f("DICT")(e.dObj.mod.quickCheckResultID,"d_quickCheckResult")))])],1),t("a-descriptions-item",{attrs:{label:"司法鉴定时间",span:1}},[e._v(e._s(e._f("DATE")(e.dObj.mod.identifyDate)))]),t("a-descriptions-item",{attrs:{label:"司法鉴定结果",span:1}},[e._v(e._s(e._f("DICT")(e.dObj.mod.identifyResultID,"d_identifyResult")))])],2)],1)],1):t("a-empty",{directives:[{name:"show",rawName:"v-show",value:!e.dObj.load,expression:"!dObj.load"}]})],1)])],1)}),[],!1,null,null,null).exports,y={extends:n.en,data(){return{schema:l.Z}},components:{IndexQuery:c,IndexEdit:f,IndexDetail:b},computed:{isAdmin:function(){return this.$store.state.user.roles.indexOf("admin")>=0},isUserDeep:function(){return parseInt(this.$store.state.user.division_deep||0)}},mounted(){3==this.isUserDeep&&(this.dQparm.divisionID=this.$store.state.user.division_id)},methods:{}},h=(0,d.Z)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("IndexQuery",{attrs:{loading:e.dTb.load},on:{emQuery:t=>{e.dQparm=t,e.fnTb_Query()},emAdd:function(t){return e.$refs.refIndexEdit.Init(0)}}}),t("a-table",{staticClass:"my-tbale",attrs:{columns:e.dTb.colunms.filter((e=>e.show)),rowKey:e=>e.fid,dataSource:e.dTb.rows,pagination:e.dTb.pagination,loading:e.dTb.load,"row-selection":{selectedRowKeys:e.dTb.rows_chks,onChange:t=>e.dTb.rows_chks=[...t]}},on:{change:e.fnTb_Query},scopedSlots:e._u([{key:"ix",fn:function(a,n,l){return t("span",{},[e._v(e._s((e.dTb.pagination.current-1)*e.dTb.pagination.pageSize+l+1)+" ")])}},{key:"IndexType",fn:function(a,n,l){return t("span",{},[e._v(e._s(a.name))])}},{key:"op",fn:function(a,n,l){return[t("a-button",{attrs:{type:"link",size:"small",icon:"eye"},on:{click:function(t){return e.$refs.refIndexDetail.Init(n.fid)}}},[e._v("详情")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-button",{staticStyle:{color:"#06E464"},attrs:{type:"link",size:"small",icon:"edit"},on:{click:function(t){return e.$refs.refIndexEdit.Init(n.fid)}}},[e._v("修改")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-button",{staticStyle:{color:"#F70000"},attrs:{type:"link",size:"small",icon:"delete"},on:{click:function(t){return e.fnTb_Del([n.fid])}}},[e._v("删除")])]}},{key:"divisionID",fn:function(t,a,n){return[e._v(e._s(e._f("AREA")(t)))]}},{key:"caseCategoryID",fn:function(t,a,n){return[e._v(e._s(e._f("DICT")(t,"d_caseCategory")))]}},{key:"identifyResultID",fn:function(t,a,n){return[e._v(e._s(e._f("DICT")(t,"d_identifyResult")))]}},{key:"quickCheckResultID",fn:function(a,n,l){return[t("a-tag",{attrs:{color:["#108ee9","#87d068","#f50f50","#2db7f5"][parseInt(a)%4],size:"small"}},[e._v(e._s(e._f("DICT")(a,"d_quickCheckResult")))])]}},{key:"createDate",fn:function(t,a,n){return[e._v(e._s(e._f("DATE")(t)))]}},{key:"deliverDate",fn:function(t,a,n){return[e._v(e._s(e._f("DATE")(t,"YYYY-MM-DD HH:mm")))]}},{key:"identifyDate",fn:function(t,a,n){return[e._v(e._s(e._f("DATE")(t)))]}},{key:"modifyDate",fn:function(t,a,n){return[e._v(e._s(e._f("DATE")(t)))]}},{key:"quickCheckDate",fn:function(t,a,n){return[e._v(e._s(e._f("DATE")(t,"YYYY-MM-DD HH:mm")))]}}])}),t("IndexEdit",{ref:"refIndexEdit",on:{emOk:function(t){return e.fnTb_Query()}}}),t("IndexDetail",{ref:"refIndexDetail"})],1)}),[],!1,null,null,null).exports}}]);