"use strict";(self.webpackChunkChemicalDetection=self.webpackChunkChemicalDetection||[]).push([[485],{42722:function(t,e,a){a.d(e,{Z:function(){return o}});var s={data(){return{dnofold:!1,dunflod:!1,newkeyWord:this.keyWord}},props:{keyWord:String||"",loading:Boolean||!1,nofold:Boolean||!1,unflod:Boolean||!1,btnlg:Number||8},emits:["emReset","emQuery","update:keyWord"],created(){this.dnofold=Boolean(this.nofold),this.dunflod=Boolean(this.unflod)},methods:{fnTest(){}}},o=(0,a(1001).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("a-form",{directives:[{name:"show",rawName:"v-show",value:!t.dunflod,expression:"!dunflod"}],staticClass:"inline-form",staticStyle:{"margin-bottom":"10px",display:"flex","justify-content":"end"},attrs:{layout:"inline"}},[t._t("COND1",(function(){return[e("a-form-item",{attrs:{label:"关键字搜索"}},[e("a-input-search",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入搜索关键字",allowClear:""},on:{change:function(e){return t.$emit("update:keyWord",t.newkeyWord)},search:function(e){return t.$emit("emQuery",null)}},model:{value:t.newkeyWord,callback:function(e){t.newkeyWord=e},expression:"newkeyWord"}})],1)]})),e("a-form-item",{staticStyle:{"margin-right":"0"}},[e("a-space",[t._t("BTNS",(function(){return[e("a-button",{staticClass:"cant-btn-default",attrs:{type:"default",loading:t.loading},on:{click:function(e){return t.$emit("emReset",null)}}},[t._v("重置")]),e("a-button",{staticClass:"cant-btn-default",attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.$emit("emQuery",null)}}},[t._v("搜索")]),t.dnofold?t._e():[e("a-button",{directives:[{name:"show",rawName:"v-show",value:!t.dunflod,expression:"!dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(e){t.dunflod=!t.dunflod}}},[t._v("高级"),e("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-down"}})],1),e("a-button",{directives:[{name:"show",rawName:"v-show",value:t.dunflod,expression:"dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(e){t.dunflod=!t.dunflod}}},[t._v("收起"),e("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-up"}})],1)],t._t("BTNSPUSH")]}))],2)],1)],2),e("a-form",{directives:[{name:"show",rawName:"v-show",value:!t.dnofold&&t.dunflod,expression:"!dnofold && dunflod"}],staticClass:"inline-form",staticStyle:{"margin-bottom":"-10px"},attrs:{layout:"horizontal",labelCol:{style:{width:"100px"}}}},[e("a-row",{attrs:{gutter:[30,0]}},[t._t("COND2"),e("a-col",{attrs:{span:24,lg:t.btnlg}},[e("a-form-item",{staticClass:"fr"},[e("a-space",[t._t("BTNS",(function(){return[e("a-button",{staticClass:"cant-btn-default",attrs:{type:"default",loading:t.loading},on:{click:function(e){return t.$emit("emReset",null)}}},[t._v("重置")]),e("a-button",{staticClass:"cant-btn-default",attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.$emit("emQuery",null)}}},[t._v("搜索")]),t.dnofold?t._e():[e("a-button",{directives:[{name:"show",rawName:"v-show",value:!t.dunflod,expression:"!dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(e){t.dunflod=!t.dunflod}}},[t._v("高级"),e("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-down"}})],1),e("a-button",{directives:[{name:"show",rawName:"v-show",value:t.dunflod,expression:"dunflod"}],staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(e){t.dunflod=!t.dunflod}}},[t._v("收起"),e("a-icon",{staticClass:"icolorfff",attrs:{type:"caret-up"}})],1)],t._t("BTNSPUSH")]}))],2)],1)],1)],2)],1)],1)}),[],!1,null,null,null).exports},25485:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var s=a(2670),o=a(55743),i=a.n(o),n=a(26839);let l={Desc:"行政区划",Table:"Admin",TableType:"Role",Url:{Save:"/api/Division/SaveDivision",GetCount:"/api/Alarm/GetCount_fixed_alarm_point",GetList:"/api/Division/GetDivisionTree",Get:"/api/Division/GetDivision",Delete:"/api/Division/DeleteDivisions"},ListCols:[{title:"区划名称",dataIndex:"name",show:!0,width:"20%"},{title:"排序",dataIndex:"sort_order",show:!0},{title:"创建时间",dataIndex:"create_time",show:!0},{title:"上级行政区域",dataIndex:"parent_id",show:!1},{title:"是否删除",dataIndex:"del_flag",show:!1},{title:"创建人",dataIndex:"create_by",show:!1},{title:"修改人",dataIndex:"update_by",show:!1},{title:"修改时间",dataIndex:"update_time",show:!1},{title:"行政区域级别",dataIndex:"division_deep",show:!1},{title:"区域总面积(㎡)",dataIndex:"city_area",show:!1},{title:"主要负责人",dataIndex:"responsible_person",show:!1},{title:"区划范围",dataIndex:"zoning_scope",show:!1},{title:"户数(户)",dataIndex:"households",show:!1},{title:"65岁以上人数",dataIndex:"number_over65",show:!1},{title:"14岁以下人数",dataIndex:"number_under14",show:!1},{title:"常驻人口数",dataIndex:"residen_population",show:!1},{title:"流动人口数",dataIndex:"floating_population",show:!1},{title:"残疾人人数",dataIndex:"disabilities_population",show:!1},{title:"在押劳教人数",dataIndex:"reeducation_through",show:!1},{title:"其他人数",dataIndex:"other_population",show:!1},{title:"经度",dataIndex:"lng",show:!1},{title:"纬度",dataIndex:"lat",show:!1},{title:"附件",dataIndex:"appendix_ids",show:!1},{title:"备注",dataIndex:"remark",show:!1},{title:"建成区面积(㎡)",dataIndex:"build_area",show:!1},{title:"城镇人数(人)",dataIndex:"urban_population",show:!1},{title:"乡村人数(人)",dataIndex:"rural_population",show:!1},{title:"中心城区人数(人)",dataIndex:"central_population",show:!1},{title:"早期疏散占中心城区人数比例(%)",dataIndex:"early_evacuation_rate",show:!1},{title:"早期疏散人数(人)",dataIndex:"early_evacuation",show:!1},{title:"15~64人口数",dataIndex:"num15_to_num64",show:!1},{title:"总人口数",dataIndex:"count_person",show:!1},{title:"主键",dataIndex:"id",show:!1},{title:"行政编码",dataIndex:"city_code",show:!0},{title:"操作",dataIndex:"op",show:!0,scopedSlots:{customRender:"op"},fixed:"right",width:300,className:"text-tc"}],ListFilter:t=>{let e=function(t){t.map((t=>{t.create_time=i()(t.create_time).isValid()?i()(t.create_time).format("YYYY-MM-DD HH:mm:ss"):null,t.children&&t.children.length>=1&&e(t.children)}))},a=[...t];return e(a),a},DetailFilter:async t=>(t.update_time=i()(t.update_time).isValid()?i()(t.update_time).format("YYYY-MM-DD HH:mm:ss"):null,t.create_time=i()(t.create_time).isValid()?i()(t.create_time).format("YYYY-MM-DD HH:mm:ss"):null,t.del_flag=0==t.del_flag?"正常":"删除",t.division_deep=((await(0,n.HN)()).find((e=>e.id==t.division_deep))||{value:""}).value,t),EditRules:{name:[{required:!0,message:"请输入行政区划名称",trigger:"blur"}],sort_order:[{required:!0,message:"请输入排序规则",trigger:"blur"}]},EditFilter:t=>(null!=t&&(t.parent_id=0==t.parent_id?null:t.parent_id),Object.assign({id:0,parent_id:null,sort_order:0,division_deep:0},t)),SaveFilter:t=>(t.parent_id=null==t.parent_id?0:parseInt(t.parent_id),t)};var d=l,r=a(42722),m={data(){return{dQparm:{name:"",stateID:-1,startDate:null,endDate:null},dStates:[],dIncidentTypeList:[],dIncidentLevelList:[]}},props:{loading:{type:Boolean,default:!1}},components:{TableQuery:r.Z},async created(){this.fnReset(),this.init()},methods:{async init(){},fnReset(){this.dQparm={name:"",startDate:null,endDate:null,stateID:-1}},fnQuery(){let t={};this.dQparm.name&&this.dQparm.name.length>0&&(t.name=this.dQparm.name.trim()),this.dQparm.startDate&&i()(this.dQparm.startDate).isValid()&&(t.startDate=this.dQparm.startDate.toJSON()),this.dQparm.endDate&&i()(this.dQparm.endDate).isValid()&&(t.endDate=this.dQparm.endDate.toJSON()),this.dQparm.stateID&&this.dQparm.stateID>0&&(t.stateID=this.dQparm.stateID),this.$emit("emQuery",t)}}},c=a(1001),u=(0,c.Z)(m,(function(){var t=this,e=t._self._c;return e("TableQuery",{attrs:{keyWord:t.dQparm.name,loading:t.loading,btnlg:8},on:{"update:keyWord":function(e){return t.$set(t.dQparm,"name",e)},"update:key-word":function(e){return t.$set(t.dQparm,"name",e)},emReset:t.fnReset,emQuery:t.fnQuery},scopedSlots:t._u([{key:"COND1",fn:function(){},proxy:!0},{key:"COND2",fn:function(){},proxy:!0},{key:"BTNSPUSH",fn:function(){return[e("a-button",{staticClass:"cant-btn-default",attrs:{type:"primary"},on:{click:function(e){return t.$emit("emAdd",null)}}},[t._v("添加")])]},proxy:!0}])})}),[],!1,null,null,null).exports,p={extends:s.AS,data(){return{schema:d,dDivisionTree:[],dDivisionDeep:[]}},async mounted(){this.dDivisionTree=await(0,n.x1)(),this.dDivisionDeep=[{label:"不限",value:0},...(await(0,n.HN)()).map((t=>({label:t.value,value:t.id})))]},methods:{}},b=(0,c.Z)(p,(function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{visible:t.dObj.show,title:(t.dObj.mod&&t.dObj.mod.id>0?"修改":"新增")+t.dObj.title,width:1060,maskClosable:!1},on:{ok:function(e){return t.Save()},cancel:function(e){return t.Cancel()}}},[e("a-spin",{attrs:{spinning:t.dObj.load,tip:t.dObj.title+"可编辑数据加载中..."}},[e("div",{style:t.dObj.load?"min-height:280px":""},[null!=t.dObj.mod?e("a-form-model",{ref:"editref",staticClass:"inline-form",attrs:{model:t.dObj.mod,rules:t.dObj.rules,labelCol:{style:{minWidth:"130px"}},layout:"horizontal",labelAlign:"left"}},[e("input",{attrs:{type:"hidden"},domProps:{value:t.dObj.mod.fid}}),e("a-row",{staticClass:"column2",staticStyle:{"margin-right":"0"},attrs:{gutter:[32,0]}},[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"行政区划",prop:"name"}},[e("a-input",{attrs:{placeholder:"请输入行政区划名称",allowClear:""},model:{value:t.dObj.mod.name,callback:function(e){t.$set(t.dObj.mod,"name",e)},expression:"dObj.mod.name"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"上级行政区划",prop:"parent_id"}},[e("a-tree-select",{attrs:{treeData:t.dDivisionTree,replaceFields:{title:"name",value:"id",children:"children",key:"id"},placeholder:"请选择上级行政区划","allow-clear":""},model:{value:t.dObj.mod.parent_id,callback:function(e){t.$set(t.dObj.mod,"parent_id",e)},expression:"dObj.mod.parent_id"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"行政区划编码",prop:"city_code"}},[e("a-input",{attrs:{placeholder:"请输入行政区划编码",allowClear:""},model:{value:t.dObj.mod.city_code,callback:function(e){t.$set(t.dObj.mod,"city_code",e)},expression:"dObj.mod.city_code"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"区划级别",prop:"division_deep"}},[e("a-select",{attrs:{placeholder:"请选择区划级别",allowClear:"",options:t.dDivisionDeep},model:{value:t.dObj.mod.division_deep,callback:function(e){t.$set(t.dObj.mod,"division_deep",e)},expression:"dObj.mod.division_deep"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"排序规则",prop:"sort_order"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入排序规则",allowClear:""},model:{value:t.dObj.mod.sort_order,callback:function(e){t.$set(t.dObj.mod,"sort_order",e)},expression:"dObj.mod.sort_order"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"主要负责人",prop:"responsible_person"}},[e("a-input",{attrs:{placeholder:"请输入主要负责人",allowClear:""},model:{value:t.dObj.mod.responsible_person,callback:function(e){t.$set(t.dObj.mod,"responsible_person",e)},expression:"dObj.mod.responsible_person"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"区划范围",prop:"zoning_scope"}},[e("a-input",{attrs:{placeholder:"请输入区划范围",allowClear:""},model:{value:t.dObj.mod.zoning_scope,callback:function(e){t.$set(t.dObj.mod,"zoning_scope",e)},expression:"dObj.mod.zoning_scope"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"区域总面积(㎡)",prop:"city_area"}},[e("a-input-number",{attrs:{placeholder:"请输入区域总面积(㎡)",allowClear:""},model:{value:t.dObj.mod.city_area,callback:function(e){t.$set(t.dObj.mod,"city_area",e)},expression:"dObj.mod.city_area"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"案件数(件)",prop:"count_case"}},[e("a-input-number",{attrs:{placeholder:"请输入案件数",allowClear:""},model:{value:t.dObj.mod.count_case,callback:function(e){t.$set(t.dObj.mod,"count_case",e)},expression:"dObj.mod.count_case"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"居民户数(户)",prop:"households"}},[e("a-input-number",{attrs:{placeholder:"请输入居民户数(户)",allowClear:""},model:{value:t.dObj.mod.households,callback:function(e){t.$set(t.dObj.mod,"households",e)},expression:"dObj.mod.households"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"14岁以下人数",prop:"number_under14"}},[e("a-input-number",{attrs:{placeholder:"请输入14岁以下人数",allowClear:""},model:{value:t.dObj.mod.number_under14,callback:function(e){t.$set(t.dObj.mod,"number_under14",e)},expression:"dObj.mod.number_under14"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"14岁以上65岁以下人数",prop:"num15_to_num64"}},[e("a-input-number",{attrs:{placeholder:"请输入14岁以上65岁以下人数",allowClear:""},model:{value:t.dObj.mod.num15_to_num64,callback:function(e){t.$set(t.dObj.mod,"num15_to_num64",e)},expression:"dObj.mod.num15_to_num64"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"65岁以上人数",prop:"number_over65"}},[e("a-input-number",{attrs:{placeholder:"请输入65岁以上人数",allowClear:""},model:{value:t.dObj.mod.number_over65,callback:function(e){t.$set(t.dObj.mod,"number_over65",e)},expression:"dObj.mod.number_over65"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"总人口数",prop:"count_person"}},[e("a-input-number",{attrs:{placeholder:"请输入总人口数",allowClear:""},model:{value:t.dObj.mod.count_person,callback:function(e){t.$set(t.dObj.mod,"count_person",e)},expression:"dObj.mod.count_person"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"常驻人口数",prop:"residen_population"}},[e("a-input-number",{attrs:{placeholder:"请输入常驻人口数",allowClear:""},model:{value:t.dObj.mod.residen_population,callback:function(e){t.$set(t.dObj.mod,"residen_population",e)},expression:"dObj.mod.residen_population"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"流动人口数",prop:"floating_population"}},[e("a-input-number",{attrs:{placeholder:"请输入流动人口数",allowClear:""},model:{value:t.dObj.mod.floating_population,callback:function(e){t.$set(t.dObj.mod,"floating_population",e)},expression:"dObj.mod.floating_population"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"残疾人人数",prop:"disabilities_population"}},[e("a-input-number",{attrs:{placeholder:"请输入残疾人人数",allowClear:""},model:{value:t.dObj.mod.disabilities_population,callback:function(e){t.$set(t.dObj.mod,"disabilities_population",e)},expression:"dObj.mod.disabilities_population"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"在押劳教人数",prop:"reeducation_through"}},[e("a-input-number",{attrs:{placeholder:"请输入在押劳教人数",allowClear:""},model:{value:t.dObj.mod.reeducation_through,callback:function(e){t.$set(t.dObj.mod,"reeducation_through",e)},expression:"dObj.mod.reeducation_through"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"其他人数",prop:"other_population"}},[e("a-input-number",{attrs:{placeholder:"请输入其他人数",allowClear:""},model:{value:t.dObj.mod.other_population,callback:function(e){t.$set(t.dObj.mod,"other_population",e)},expression:"dObj.mod.other_population"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"建成区面积(㎡)",prop:"build_area"}},[e("a-input-number",{attrs:{placeholder:"请输入建成区面积(㎡)",allowClear:""},model:{value:t.dObj.mod.build_area,callback:function(e){t.$set(t.dObj.mod,"build_area",e)},expression:"dObj.mod.build_area"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"城镇人数(人)",prop:"urban_population"}},[e("a-input-number",{attrs:{placeholder:"请输入城镇人数(人)",allowClear:""},model:{value:t.dObj.mod.urban_population,callback:function(e){t.$set(t.dObj.mod,"urban_population",e)},expression:"dObj.mod.urban_population"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"乡村人数(人)",prop:"rural_population"}},[e("a-input-number",{attrs:{placeholder:"请输入乡村人数(人)",allowClear:""},model:{value:t.dObj.mod.rural_population,callback:function(e){t.$set(t.dObj.mod,"rural_population",e)},expression:"dObj.mod.rural_population"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{attrs:{label:"中心城区人数(人)",prop:"central_population"}},[e("a-input-number",{attrs:{placeholder:"请输入中心城区人数(人)",allowClear:""},model:{value:t.dObj.mod.central_population,callback:function(e){t.$set(t.dObj.mod,"central_population",e)},expression:"dObj.mod.central_population"}})],1)],1),e("a-col",{attrs:{span:24}},[e("a-form-model-item",{attrs:{label:"备注",prop:"remark"}},[e("a-textarea",{attrs:{placeholder:"请输入备注描述",autosize:{minRows:2,maxRows:6},allowClear:""},model:{value:t.dObj.mod.remark,callback:function(e){t.$set(t.dObj.mod,"remark",e)},expression:"dObj.mod.remark"}})],1)],1)],1)],1):e("a-empty",{directives:[{name:"show",rawName:"v-show",value:!t.dObj.load,expression:"!dObj.load"}]})],1)])],1)}),[],!1,null,null,null).exports,h={extends:s.v6,data(){return{schema:d,dDivisionTree:[],dDivisionDeep:[]}},async mounted(){},methods:{fnFilter(t){return(this.DICT_G1.find((e=>"defense_project_type"==e.code&&t==e.value))||{label:"其他"}).label}}},_=(0,c.Z)(h,(function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{visible:t.dObj.show,title:t.dObj.title+"详情",maskClosable:!1,width:860},on:{cancel:function(e){t.dObj.show=!1},ok:function(e){t.dObj.show=!1}}},[e("a-spin",{attrs:{spinning:t.dObj.load,tip:t.dObj.title+"详情数据加载中..."}},[e("div",{style:t.dObj.load?"min-height:280px":""},[t.dObj.mod?e("a-tabs",[e("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[e("a-descriptions",{staticClass:"column2",attrs:{column:2,contentStyle:{opacity:.75},bordered:""}},[e("a-descriptions-item",{attrs:{label:"行政区划名称",span:1}},[t._v(t._s(t.dObj.mod.name))]),e("a-descriptions-item",{attrs:{label:"行政区划编码",span:1}},[t._v(t._s(t.dObj.mod.city_code))]),e("a-descriptions-item",{attrs:{label:"区划级别",span:1}},[t._v(t._s(t.dObj.mod.division_deep))]),e("a-descriptions-item",{attrs:{label:"创建时间",span:1}},[t._v(t._s(t.dObj.mod.create_time))]),e("a-descriptions-item",{attrs:{label:"排序规则",span:1}},[t._v(t._s(t.dObj.mod.sort_order))]),e("a-descriptions-item",{attrs:{label:"主要负责人",span:1}},[t._v(t._s(t.dObj.mod.responsible_person))]),e("a-descriptions-item",{attrs:{label:"区划范围",span:1}},[t._v(t._s(t.dObj.mod.zoning_scope))]),e("a-descriptions-item",{attrs:{label:"区域总面积(㎡)",span:1}},[t._v(t._s(t.dObj.mod.city_area))]),e("a-descriptions-item",{attrs:{label:"建成区面积(㎡)",span:1}},[t._v(t._s(t.dObj.mod.build_area))]),e("a-descriptions-item",{attrs:{label:"案件数(件)",span:1}},[t._v(t._s(t.dObj.mod.count_case))]),e("a-descriptions-item",{attrs:{label:"备注",span:2}},[t._v(t._s(t.dObj.mod.remark))])],1)],1),e("a-tab-pane",{key:"2",attrs:{tab:"人口信息"}},[e("a-descriptions",{staticClass:"column2",attrs:{column:2,contentStyle:{opacity:.75},bordered:""}},[e("a-descriptions-item",{attrs:{label:"居民户数(户)",span:1}},[t._v(t._s(t.dObj.mod.households))]),e("a-descriptions-item",{attrs:{label:"总人口数",span:1}},[t._v(t._s(t.dObj.mod.count_person))]),e("a-descriptions-item",{attrs:{label:"常驻人口数",span:1}},[t._v(t._s(t.dObj.mod.residen_population))]),e("a-descriptions-item",{attrs:{label:"流动人口数",span:1}},[t._v(t._s(t.dObj.mod.floating_population))]),e("a-descriptions-item",{attrs:{label:"残疾人人数",span:1}},[t._v(t._s(t.dObj.mod.disabilities_population))]),e("a-descriptions-item",{attrs:{label:"在押劳教人数",span:1}},[t._v(t._s(t.dObj.mod.reeducation_through))]),e("a-descriptions-item",{attrs:{label:"其他人数",span:1}},[t._v(t._s(t.dObj.mod.other_population))]),e("a-descriptions-item",{attrs:{label:"14岁以下人数",span:1}},[t._v(t._s(t.dObj.mod.number_under14))]),e("a-descriptions-item",{attrs:{label:"14岁以上65岁以下人数",span:1}},[t._v(t._s(t.dObj.mod.num15_to_num64))]),e("a-descriptions-item",{attrs:{label:"65岁以上人数",span:1}},[t._v(t._s(t.dObj.mod.number_over65))]),e("a-descriptions-item",{attrs:{label:"城镇人数(人)",span:1}},[t._v(t._s(t.dObj.mod.urban_population))]),e("a-descriptions-item",{attrs:{label:"乡村人数(人)",span:1}},[t._v(t._s(t.dObj.mod.rural_population))]),e("a-descriptions-item",{attrs:{label:"中心城区人数(人)",span:1}},[t._v(t._s(t.dObj.mod.central_population))])],1)],1)],1):e("a-empty",{directives:[{name:"show",rawName:"v-show",value:!t.dObj.load,expression:"!dObj.load"}]})],1)])],1)}),[],!1,null,null,null).exports,f={extends:s.en,data(){return{schema:d}},components:{IndexQuery:u,IndexEdit:b,IndexDetail:_},mounted(){},methods:{async fnTb_Query(t,e,a){this.dTb.load=!0;let s=await this.$api2(this.schema.Url.GetList,"[]");s.isOk?s.data&&s.data.children&&(this.dTb.rows=this.schema.ListFilter&&this.schema.ListFilter(s.data.children)||s.data.children):this.$message.error(s&&s.message||this.schema.Desc+"数据列表查询失败"),this.dTb.load=!1}}},v=(0,c.Z)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"flexcb"},[e("span"),e("a-button",{staticClass:"cant-btn-default",attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$refs.refIndexEdit.Init(0)}}},[t._v("添加")])],1),e("a-table",{staticClass:"my-tbale",attrs:{columns:t.dTb.colunms.filter((t=>t.show)),rowKey:t=>t.id,dataSource:t.dTb.rows,pagination:!1,loading:t.dTb.load,"row-selection":{selectedRowKeys:t.dTb.rows_chks,onChange:e=>t.dTb.rows_chks=[...e]}},on:{change:t.fnTb_Query},scopedSlots:t._u([{key:"ix",fn:function(a,s,o){return e("span",{},[t._v(t._s((t.dTb.pagination.current-1)*t.dTb.pagination.pageSize+o+1)+" ")])}},{key:"IndexType",fn:function(a,s,o){return e("span",{},[t._v(t._s(a.name))])}},{key:"op",fn:function(a,s,o){return[e("a-button",{attrs:{type:"link",size:"small",icon:"eye"},on:{click:function(e){return t.$refs.refIndexDetail.Init(s.id,"id")}}},[t._v("详情")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{staticStyle:{color:"#06E464"},attrs:{type:"link",size:"small",icon:"edit"},on:{click:function(e){return t.$refs.refIndexEdit.Init(s.id,"id")}}},[t._v("修改")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-button",{staticStyle:{color:"#F70000"},attrs:{type:"link",size:"small",icon:"delete"},on:{click:function(e){return t.fnTb_Del([s.id])}}},[t._v("删除")])]}},{key:"state",fn:function(t,a,s){return[null!=t&&1==t.fid?e("a-badge",{attrs:{color:"pink",text:t.name}}):null!=t&&2==t.fid?e("a-badge",{attrs:{color:"blue",text:t.name}}):null!=t&&3==t.fid?e("a-badge",{attrs:{color:"cyan",text:t.name}}):null!=t&&4==t.fid?e("a-badge",{attrs:{color:"orange",text:t.name}}):e("a-badge",{attrs:{color:"purple",text:t&&t.name}})]}},{key:"project",fn:function(e,a,s){return[t._v(" "+t._s(e&&e.projectName)+" ")]}}])}),e("IndexEdit",{ref:"refIndexEdit",on:{emOk:function(e){return t.fnTb_Query()}}}),e("IndexDetail",{ref:"refIndexDetail"})],1)}),[],!1,null,null,null).exports},2670:function(t,e,a){a.d(e,{AS:function(){return l},en:function(){return i},v6:function(){return n}});var s=a(55743),o=a.n(s);const i={data(){return{dQparm:{},dTb:{rows:[],colunms:[],rows_chks:[],load:!1,pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(t,e)=>`共${t}条数据 当前从${e[0]}~${e[1]}条`},size:"defalut"}}},mounted(){this.dTb.colunms=this.schema.ListCols,this.fnTb_Query()},methods:{async fnTb_Query(t,e,a){this.dTb.pagination.current=t&&t.current||1,this.dTb.pagination.pageSize=t&&t.pageSize||10,this.dQparm.pageIndex=this.dTb.pagination.current,this.dQparm.pageSize=this.dTb.pagination.pageSize,this.dTb.load=!0;let s=await this.$api2(this.schema.Url.GetCount,this.dQparm);if(s.isOk){let t=parseInt(s.data);if(t>0){this.dTb.pagination.total=t;let e=await this.$api2(this.schema.Url.GetList,this.dQparm);e.isOk?this.dTb.rows=this.schema.ListFilter&&await this.schema.ListFilter(e.data)||e.data:this.$message.error(e&&e.message||this.schema.Desc+"数据列表查询失败")}else this.dTb.rows=[]}else this.$message.error(s&&s.message||this.schema.Desc+"数据分页统计失败");this.dTb.load=!1},async fnTb_Del(t){if(!t||t.length<=0)return this.$message.error("请选择要删除的"+this.schema.Desc+"数据");let e=this;this.$confirm({title:"操作确认",content:"确认删除当前选中的"+t.length+"条记录",onOk(){e.$api2(e.schema.Url.Delete,t).then((t=>{t&&t.isOk?(e.$message.success(e.schema.Desc+"数据已成功删除"),e.fnTb_Query()):e.$message.error(t&&t.message||"数据删除失败")}))}})}},filters:{time(t,e="YYYY-MM-DD HH:mm:ss"){let a=o()(t);return a.isValid()?a.format(e):null}}},n={data(){return{dObj:{show:!1,load:!1,mod:null,title:""}}},mounted(){this.dObj.title=this.schema&&this.schema.Desc||""},methods:{async Init(t,e="fid"){if(!(t&&t>0))return;this.dObj.mod=null,this.dObj.show=!0,this.dObj.load=!0;let a="fid"==e?{fid:t}:{id:t},s=await this.$api2(this.schema.Url.Get,null,a);this.dObj.load=!1,s&&s.isOk&&null!=s.data?this.dObj.mod=this.schema.DetailFilter&&await this.schema.DetailFilter(s.data)||s.data:this.$message.error(s&&s.message||this.schema.Desc+"可预览信息查询失败")}}},l={data(){return{dObj:{show:!1,load:!1,mod:null,title:"",rules:null}}},mounted(){this.dObj.title=this.schema.Desc||"",this.dObj.rules=this.schema.EditRules||null},methods:{async Init(t,e="fid"){if(parseInt(t)>=0){if(this.dObj.mod=null,this.dObj.show=!0,0==t)this.dObj.mod=this.schema.EditFilter&&await this.schema.EditFilter(null);else{this.dObj.load=!0;let a="fid"==e?{fid:t}:{id:t},s=await this.$api2(this.schema.Url.Get,null,a);s&&s.isOk&&null!=s.data?this.dObj.mod=this.schema.EditFilter&&await this.schema.EditFilter(s.data)||s.data:this.$message.error(s&&s.message||this.schema.Desc+"可编辑信息查询失败"),this.dObj.load=!1}this.$refs.editref&&this.$refs.editref.resetFields&&this.$refs.editref.resetFields()}},async Save(){this.$refs.editref.validate((async t=>{if(!t)return this.$message.error("输入数据校验失败，请重新输入"),!1;{this.dObj.load=!0;let t=this.schema.SaveFilter&&this.schema.SaveFilter(this.dObj.mod)||this.dObj.mod,e=await this.$api2(this.schema.Url.Save,t);this.dObj.load=!1,e&&e.isOk?parseInt(e.data)>0?(this.$message.success(this.schema.Desc+"数据保存成功"),this.schema.SaveFilterEnd&&(this.dObj.mod.fid=e.data,this.schema.SaveFilterEnd(this.dObj.mod)),this.dObj.show=!1,this.$emit("emOk",!0)):this.$message.error("数据保存失败"):this.$message.error(e&&e.message||this.schema.Desc+"数据保存失败")}}))},async Cancel(){this.dObj.show=!1,this.dObj.mod=null}}}}}]);