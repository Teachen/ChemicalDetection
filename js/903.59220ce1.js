"use strict";(self.webpackChunkChemicalDetection=self.webpackChunkChemicalDetection||[]).push([[903],{58903:function(t,i,a){a.r(i),a.d(i,{default:function(){return s}});a(57658);var e={name:"authorize",data(){return{}},mounted(){this.requestRoute()},methods:{async requestRoute(){let t=this.$route.params;this.$store.commit("SET_RZZX_TOKEN",t),setTimeout((()=>{this.authoLogin()}),1e3)},async authoLogin(){await this.$api("/g2/api/BaseRFAdmin/loginByToken",{},"post").then((t=>{if(t?.isOk){let i={userDisplayName:t.data.name,userID:t.data.id,token:t.data.token,avatar:t.data.avatar,IsLogin:!0,dept_id:t.data.dept_id,division_id:0,division_deep:t.data.division&&t.data.division.division_deep,roles:[t.data.isadmin?"admin":"user"]};return this.$store.commit("SET_USER",i),void this.$router.push("/board/index1")}throw new Error(t.message)}))}}},s=(0,a(1001).Z)(e,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"main"},[i("div",{staticClass:"head"}),i("div",{staticClass:"tboxtit"},[t._v(" "+t._s(t.$store.state.title)+" ")]),i("div",{staticClass:"box"})])}),[],!1,null,"9728816c",null).exports}}]);