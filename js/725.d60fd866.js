"use strict";(self.webpackChunkChemicalDetection=self.webpackChunkChemicalDetection||[]).push([[725],{73725:function(t,e,a){a.r(e),a.d(e,{default:function(){return O}});a(57658);var i=a(99039),s=a.n(i),n=a(55817),o=a(30096),l={components:{vueSeamlessScroll:s()},data(){return{show:!0,dTb:{rows:[],colunms:[],rows_chks:[],load:!1,pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(t,e)=>`共${t}条数据 当前从${e[0]}~${e[1]}条`},size:"defalut"},list:[]}},mounted(){this.fnGetData()},methods:{async fnGetData(){this.dTb.load=!0,this.dTb.rows=[];let t={pageIndex:this.dTb.pagination.current,pageSize:this.dTb.pagination.pageSize},e=await this.$api2(n.Z.Url.GetCount,t);if(e&&null!=e.data&e.data>=0&&(this.dTb.pagination.total=parseInt(e.data),e.data>0)){let e=await this.$api2(n.Z.Url.GetList,t);e&&e.isOk&&(this.dTb.rows=e.data)}this.dTb.load=!1},fnJunpLink(t){t.websiteurl&&window.open("/g3"+t.websiteurl,"_blank")},fnViewrImg(t){if(null!=t.attachments&&t.attachments.length>0){(0,o.api)({options:{title:!1},images:t.attachments.map((t=>"/g3"+t.relativePath))})}},viewRecords(t){let e=(t.path||t.composedPath&&t.composedPath()).filter((t=>/item/.test(t.className)));if(!e.length)return;e=e[0];const a=JSON.parse(e.getAttribute("data")),i=e.getAttribute("data-attr");"fnViewrImg"==i&&this.fnViewrImg(a),"fnJunpLink"==i&&this.fnJunpLink(a)}}},r=a(1001),d=(0,r.Z)(l,(function(){var t=this,e=t._self._c;return e("div",{class:t.show?"vbox":"vbox hide"},[e("div",{staticClass:"vbox-tit bgbig"},[t._v("实时食药热点展示")]),e("img",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"close common",attrs:{src:a(76860),alt:"收起"},on:{click:function(e){t.show=!1}}}),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"open common",attrs:{src:a(3471),alt:"展开"},on:{click:function(e){t.show=!0}}}),e("div",{staticClass:"vbox-bod",on:{click:function(e){return t.viewRecords(e)}}},[e("vue-seamless-scroll",{staticClass:"wrap",attrs:{data:t.dTb.rows,"class-option":{singleHeight:130,waitTime:8e3}}},[t._l(t.dTb.rows,(function(a,i){return e("div",{key:i,staticClass:"item"},[e("a-tooltip",{attrs:{title:a.title,placement:"topRight"}},[e("div",{staticClass:"item-tit",attrs:{data:JSON.stringify(a),"data-attr":"fnJunpLink"},on:{click:function(e){return t.fnJunpLink(a)}}},[t._v(" ◆ "+t._s(a.title)+" "),e("div",{staticClass:"item-tit-more"},[t._v(">>")])])]),e("div",{staticClass:"item-tag",attrs:{data:JSON.stringify(a),"data-attr":"fnViewrImg"}},[e("a-tooltip",{attrs:{placement:"topLeft"}},[e("template",{slot:"title"},[t._v(t._s(t._f("DATE")(a.modifyDate)))]),e("span",[e("a-icon",{attrs:{type:"clock-circle"}}),t._v(t._s(t._f("DATE")(a.modifyDate,"timego")))],1)],2),e("span",[t._v("   来自于"),e("em",[t._v(t._s(a.source))])]),a.attachments&&a.attachments.length>0?e("div",{staticStyle:{float:"right","margin-right":"5px",cursor:"pointer"},on:{click:function(e){return t.fnViewrImg(a)}}},[t._v("图片")]):t._e()],1),e("a-tooltip",{attrs:{title:"查看详情",placement:"topRight"}},[e("div",{staticClass:"item-cot",attrs:{data:JSON.stringify(a),"data-attr":"fnJunpLink"},on:{click:function(e){return t.fnJunpLink(a)}}},[t._v(" "+t._s(a.brief)+" ")])])],1)})),e("a-spin",{staticClass:"spin",attrs:{spinning:t.dTb.load,tip:"数据加载中..."}}),t.dTb.load||null!=t.dTb.rows&&0!=t.dTb.rows.length?t._e():e("a-empty",{staticClass:"empty",attrs:{description:"暂无数据"}})],2)],1)])}),[],!1,null,"5b3a15d0",null).exports,c=a(11159),u={data(){return{dTb:{rows:[],colunms:[],rows_chks:[],load:!1,pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(t,e)=>`共${t}条数据 当前从${e[0]}~${e[1]}条`},size:"defalut"},list:[]}},computed:{isAdmin:function(){return this.$store.state.user.roles.indexOf("admin")>=0},isUserDeep:function(){return parseInt(this.$store.state.user.division_deep||0)},isSys:function(){return this.$route.query&&"sys"==this.$route.query.type}},async mounted(){this.dTb.colunms=[{title:"线索编号",dataIndex:"clueCode",width:140,align:"center"},{title:"等级",dataIndex:"clueGradeID",width:70,scopedSlots:{customRender:"clueGradeID"},align:"center"},{title:"来源",dataIndex:"clueSourceID",width:70,scopedSlots:{customRender:"clueSourceID"},align:"center"},{title:"产品名称",dataIndex:"name",width:130,ellipsis:!0,align:"center"},{title:"宣传内容",dataIndex:"content",ellipsis:!0,align:"center"},{title:"下发单位",dataIndex:"assignDeptID",ellipsis:!0,align:"center",scopedSlots:{customRender:"assignDeptID"}},{title:"下发时间",dataIndex:"assignDate",width:200,align:"center",scopedSlots:{customRender:"assignDate"}},{title:"反馈期限",dataIndex:"respondDueDate",width:200,align:"center",scopedSlots:{customRender:"respondDueDate"}},{title:"状态",dataIndex:"clueStateID",width:120,scopedSlots:{customRender:"clueStateID"},align:"center"}],this.fnGetData()},methods:{async fnGetData(){this.dTb.load=!0,this.dTb.rows=[];let t={pageIndex:this.dTb.pagination.current,pageSize:this.dTb.pagination.pageSize};3==this.isUserDeep&&(t.divisionID=this.$store.state.user.division_id);let e=await this.$api2(c.Z.Url.GetCount,t);if(e&&null!=e.data&e.data>=0&&(this.dTb.pagination.total=parseInt(e.data),e.data>0)){let e=await this.$api2(c.Z.Url.GetList,t);e&&e.isOk&&(this.dTb.rows=c.Z.ListFilter&&await c.Z.ListFilter(e.data)||e.data,this.dTb.rows=e.data.map((t=>({...t,name:"产品测试"}))))}this.dTb.load=!1}},filters:{status:t=>["未反馈","正在经营","已破案"][t]}},p=(0,r.Z)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"vbox"},[e("div",{staticClass:"vbox-tit"},[t._v("线索列表")]),e("div",{staticClass:"vbox-bod"},[e("a-table",{staticClass:"batable",attrs:{columns:t.dTb.colunms,dataSource:t.dTb.rows,size:"small",scroll:{y:"auto"},pagination:!1,rowKey:"fid",loading:t.dTb.load,bordered:!1},scopedSlots:t._u([{key:"clueGradeID",fn:function(a,i,s){return[e("a-tag",{attrs:{size:"small"}},[t._v(t._s(t._f("DICT")(a,"d_clueGrade")))])]}},{key:"clueSourceID",fn:function(a,i,s){return[e("a-tag",{attrs:{size:"small"}},[t._v(t._s(t._f("DICT")(a,"d_clueSource")))])]}},{key:"clueStateID",fn:function(a,i,s){return[e("a-tag",{attrs:{size:"small"}},[t._v(t._s(t._f("DICT")(a,"d_clueState")))])]}},{key:"clueCategoryID",fn:function(e,a,i){return[t._v(t._s(t._f("DICT")(e,"d_clueCategory")))]}},{key:"caseCategoryID",fn:function(e,a,i){return[t._v(t._s(t._f("DICT")(e,"d_caseCategory")))]}},{key:"divisionID",fn:function(e,a,i){return[t._v(t._s(t._f("AREA")(e)))]}},{key:"filterResultID",fn:function(e,a,i){return[t._v(t._s(t._f("DICT")(e,"d_clueFilterResult")))]}},{key:"assignDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}},{key:"respondDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}},{key:"respondDueDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}},{key:"createDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}},{key:"deliverDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}},{key:"identifyDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}},{key:"modifyDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}},{key:"quickCheckDate",fn:function(e,a,i){return[t._v(t._s(t._f("DATE")(e,"YYYY-MM-DD HH:mm")))]}}])})],1)])}),[],!1,null,"444322f6",null).exports,m=a(84480),f=a(55338),h={components:{Chart:m.Z},data(){return{option:null,dObj:{show:!1,load:!1,option:null,title:"线索统计"},optionlV1:null}},async mounted(){this.fnSetOptionLv1(await this.fnGetData())},methods:{async fnGetData(){this.dObj.option=null,this.dObj.load=!0;let t=await this.$api2("/api/ClueReport/SumClueByDivision");if(this.dObj.load=!1,t&&t.isOk)return t.data.map((t=>({name:t.name,value:t.sum,id:t.id})))},fnSetOptionLv1(t){let e=this,a={},i=[{start:"#637FEA",end:"#637FEA20"},{start:"#4B8EB1",end:"#4B8EB120"},{start:"#B35AFF",end:"#B35AFF20"},{start:"#EDCC31",end:"#EDCC3120"},{start:"#25BD97",end:"#25BD9720"},{start:"#EF6E18",end:"#EF6E1820"},{start:"#0336FF",end:"#0336FF20"},{start:"#488BFF",end:"#488BFF20"},{start:"#26CEBA",end:"#26CEBA20"},{start:"#FFC069",end:"#FFC06920"},{start:"#FD6865",end:"#f8b2b1"}];a.tooltip={trigger:"item",formatter:t=>`<div><p style="font-weight:600;font-size:17px;">${this.dObj.title}</p></div>\n                ${t.marker} ${t.name} : ${t.value} 件`},a.xAxis={type:"category",data:t.map((t=>t.name)),axisLabel:{textStyle:{fontFamily:"Microsoft YaHei",color:"#c4bcbc",fontWeight:"normal",fontSize:"14",lineHeight:22},interval:0,margin:15,lineHeight:15,rotate:50,formatter:function(t){return t}}},a.yAxis={splitLine:{show:!1},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei",color:"#fff",fontWeight:"normal",fontSize:"14",lineHeight:22}}},a.grid={left:"2%",right:"4%",bottom:"4%",top:"16%",containLabel:!0},a.animationDurationUpdate=500,a.series=[{type:"pictorialBar",symbol:"diamond",symbolSize:[20,4],symbolOffset:[-0,-2],symbolPosition:"end",z:12,data:t,itemStyle:{normal:{opacity:1,color:t=>i[t.dataIndex].start}}},{type:"bar",id:"level1",data:t,barWidth:20,zlevel:-1,itemStyle:{normal:{opacity:.7,color:t=>new f.Q.o(0,0,0,1,[{offset:0,color:i[t.dataIndex].start},{offset:1,color:i[t.dataIndex].end}])}},label:{show:!0,position:"top",color:"#fff",fontSize:12}},{type:"pictorialBar",symbol:"diamond",symbolSize:[20,4],symbolOffset:[-0,2],z:12,color:"#161D6E",data:t,itemStyle:{normal:{opacity:1,color:t=>i[t.dataIndex].end}}}],a.legend={show:!0,orient:"vertical",left:"5%",top:"center",itemGap:25,icon:"circle",textStyle:{color:"inherit",fontSize:"16"},formatter:e=>e+" : "+t.find((t=>t.name==e)).value},a.graphic=[{type:"text",id:"inittext",right:5,top:5,style:{text:"",fill:"#FFF",fontSize:18}}],this.dObj.option=a,this.optionlV1=a;let s=this;this.$nextTick((()=>{this.$refs.chartdom.chart.on("click",(function(t){s.$api2("/api/ClueReport/SumClueByClueCategory",{divisionIDs:[t.data.id]}).then((a=>{a&&a.isOk&&a.data&&e.fnSetOptionLv2(a.data.map((t=>({name:t.name,value:t.sum}))),t.dataIndex)}))}))}))},fnSetOptionLv2(t,e){let a=this,i={},s=[{start:"#637FEA",end:"#637FEA20"},{start:"#4B8EB1",end:"#4B8EB120"},{start:"#B35AFF",end:"#B35AFF20"},{start:"#EDCC31",end:"#EDCC3120"},{start:"#25BD97",end:"#25BD9720"},{start:"#EF6E18",end:"#EF6E1820"},{start:"#0336FF",end:"#0336FF20"},{start:"#488BFF",end:"#488BFF20"},{start:"#26CEBA",end:"#26CEBA20"},{start:"#FFC069",end:"#FFC06920"},{start:"#FD6865",end:"#f8b2b1"}];i.tooltip={trigger:"item",formatter:t=>`<div><p style="font-weight:600;font-size:17px;">${this.dObj.title}</p></div>\n                ${t.marker} ${t.name} : ${t.value} 件`},i.xAxis={type:"category",data:t.map((t=>t.name)),axisLabel:{textStyle:{fontFamily:"Microsoft YaHei",color:"#fff",fontWeight:"normal",fontSize:"14",lineHeight:22},interval:0,margin:15,lineHeight:15,rotate:40,formatter:function(t){return t}}},i.yAxis={splitLine:{show:!1},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei",color:"#fff",fontWeight:"normal",fontSize:"14",lineHeight:22}}},i.grid={left:"2%",right:"4%",bottom:"4%",top:"16%",containLabel:!0},i.animationDurationUpdate=500,i.series=[{type:"pictorialBar",symbol:"diamond",symbolSize:[40,8],symbolOffset:[-0,-4],symbolPosition:"end",z:12,data:t,itemStyle:{normal:{opacity:1,color:t=>s[e>=0?e:t.dataIndex].start}}},{type:"bar",id:"level1",data:t,barWidth:40,zlevel:-1,itemStyle:{normal:{opacity:.7,color:t=>new f.Q.o(0,0,0,1,[{offset:0,color:s[e>=0?e:t.dataIndex].start},{offset:1,color:s[e>=0?e:t.dataIndex].end}])}},label:{show:!0,position:"top",color:"#fff",fontSize:12}},{type:"pictorialBar",symbol:"diamond",symbolSize:[40,8],symbolOffset:[-0,4],z:12,color:"#161D6E",data:t,itemStyle:{normal:{opacity:1,color:t=>s[e>=0?e:t.dataIndex].end}}}],i.legend={show:!0,orient:"vertical",left:"5%",top:"center",itemGap:25,icon:"circle",textStyle:{color:"inherit",fontSize:"16"},formatter:e=>e+" : "+t.find((t=>t.name==e)).value},i.graphic=[{type:"text",id:"inittext",right:5,top:5,style:{text:"返回",fill:"#FFF",fontSize:18},onclick:async function(){a.dObj.option=a.optionlV1}}],this.dObj.option=i}}},y=h,b=(0,r.Z)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"vbox"},[e("div",{staticClass:"vbox-tit"},[t._v(t._s(t.dObj.title))]),e("div",{staticClass:"vbox-bod"},[t.dObj.option?e("Chart",{ref:"chartdom",staticStyle:{height:"100%"},attrs:{option:t.dObj.option}}):t._e(),e("a-spin",{staticClass:"spin",attrs:{spinning:t.dObj.load,tip:"数据加载中..."}}),t.dObj.load||null!=t.dObj.option?t._e():e("a-empty",{staticClass:"empty",attrs:{description:"暂无数据"}})],1)])}),[],!1,null,"0489e99b",null).exports,g=(a(96354),a(13201));const D=["#0079FE","#FEE17B"];var v={components:{Chart:m.Z},data(){return{option:null,dObj:{show:!1,load:!1,option:null,title:"线索成案率"}}},async mounted(){this.fnSetOption(await this.fnGetData())},methods:{async fnGetData(){this.dObj.option=null,this.dObj.load=!0;let t=await this.$api2("/api/ClueReport/SumClueByClueState");if(this.dObj.load=!1,t&&t.isOk){let e=t.data.find((t=>"线索数"==t.name)).sum,a=t.data.find((t=>"成案数"==t.name)).sum,i=e-a,s=[];return s.push({name:"未成案数",value:i}),s.push({name:"成案数",value:a}),s}},fnSetOption(t){t.forEach(((t,e)=>{t.itemStyle={color:D[e],opacity:.6},t.label={normal:{show:!0,opacity:1,color:D[e],formatter:"{d|{d}%}",rich:{d:{color:"#fff",fontSize:22,textShadowColor:"#1c90a6",textShadowOffsetX:0,textShadowOffsetY:2,textShadowBlur:5}}}},t.labelLine={normal:{lineStyle:{width:1,color:"rgba(255,255,255,0.7)"}}}}));let e=(0,g.v)(t,.8,180,30,8,.9);Object.assign(e.legend,{show:!0,type:"scroll",orient:"vertical",left:"2%",top:"30%",itemGap:45,textStyle:{color:"#00e4ff",fontSize:"16"},formatter:e=>{let a=t.find((t=>t.name==e)),i=t[0].value+t[1].value;return"未成案数"==e?`线索数 ${i}`:"成案数"==e?`${e} ${a.value}`:void 0}}),e.grid3D.show=!1,e.grid3D.left="20%",e.grid3D.top="-20%",e.grid3D.width="100%",e.grid3D.height="100%",e.grid3D.viewControl.beta=-50,e.series.push({type:"pie",label:{show:!0},backgroundColor:"transparent",itemStyle:{opacity:0},left:"20%",top:"16%",width:"100%",height:"45%",labelLine:{show:!1},data:t.sort(((t,e)=>t.value-e.value)),startAngle:-30,radius:["45%","45%"]}),this.dObj.option=e}}},C=(0,r.Z)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"vbox"},[e("div",{staticClass:"vbox-tit"},[t._v(t._s(t.dObj.title))]),e("div",{staticClass:"vbox-bod"},[t.dObj.option?e("Chart",{staticStyle:{height:"100%"},attrs:{option:t.dObj.option}}):t._e(),e("a-spin",{staticClass:"spin",attrs:{spinning:t.dObj.load,tip:"数据加载中..."}}),t.dObj.load||null!=t.dObj.option?t._e():e("a-empty",{staticClass:"empty",attrs:{description:"暂无数据"}}),t.dObj.option?e("div",{staticClass:"chatbg"}):t._e()],1)])}),[],!1,null,"674c6c7f",null).exports;const _=["#637FEA","#4B8EB1","#B35AFF","#EDCC31","#25BD97","#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff","#91ca8c","#f49f42"];var w={components:{Chart:m.Z},data(){return{dObj:{show:!1,load:!1,option:null,title:"快检成案统计"},dLend:[]}},async mounted(){this.fnSetOption(await this.fnGetData()),this.fnYXData()},methods:{async fnYXData(){let t=[],e=await this.$api2("/api/ClueReport/SumSampleByQuickCheckResult");this.dObj.load=!1,e&&e.isOk&&(t=e.data.map((t=>({name:t.name,value:t.sum})))),this.dLend=t},async fnGetData(){this.dObj.option=null,this.dObj.load=!0;let t=await this.$api2("/api/ClueReport/SumClueByClueCategory");if(this.dObj.load=!1,t&&t.isOk)return t.data.map((t=>({name:t.name,value:t.sum})));this.dObj.load=!1},fnSetOption(t){t.forEach(((t,e)=>{t.itemStyle={color:_[e]}}));let e=(0,g.v)(t,.9,180,30,2,.5);e.legend={show:!0,orient:"vertical",right:"5%",top:"center",itemGap:20,icon:"rect",itemHeight:10,itemWidth:12,textStyle:{color:"inherit",fontSize:"16"},formatter:e=>e+" : "+t.find((t=>t.name==e)).value},e.grid3D.show=!1,e.grid3D.left="-18%",e.grid3D.top="0%",e.grid3D.width="100%",e.grid3D.height="100%",e.series.push({type:"pie",label:{opacity:1,color:"#FFF",position:"inner",formatter:"{c} 件"},backgroundColor:"transparent",itemStyle:{opacity:0},left:"-20%",top:"-4%",width:"100%",height:"100%",labelLine:{show:!0},data:t.sort(((t,e)=>t.value-e.value)),startAngle:-30,tooltip:{show:!1},radius:["40%","55%"],legend:{show:!1}}),this.dObj.option=e}}},I=(0,r.Z)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"vbox"},[e("div",{staticClass:"vbox-tit"},[t._v(t._s(t.dObj.title))]),e("div",{staticClass:"vbox-bod"},[t.dObj.option?e("Chart",{staticStyle:{height:"100%"},attrs:{option:t.dObj.option}}):t._e(),e("a-spin",{staticClass:"spin",attrs:{spinning:t.dObj.load,tip:"数据加载中..."}}),t.dObj.load||null!=t.dObj.option?t._e():e("a-empty",{staticClass:"empty",attrs:{description:"暂无数据"}}),e("div",{staticClass:"dLend"},t._l(t.dLend,(function(a){return e("div",[t._v(" "+t._s(a.name)+" : "+t._s(a.value)+" ")])})),0)],1)])}),[],!1,null,"52d2a341",null).exports,x=a(45871),S=a(13054),F={components:{Left1:d,Left2:p,Right1:b,Right2:C,Right3:I},async mounted(){let t={};3==parseInt(this.$store.state.user.division_deep||0)&&(t.divisionIDs=[this.$store.state.user.division_id]);let e=await this.$api2("/api/ClueReport/Map_SumClueByDivision",t);if(e&&e.isOk){x.Z.setMapData(e.data);try{this.fnFlyToRegion(e.data)}catch(t){}}},methods:{async testCamera(){S.Z.GetCurrentCamera()},async fnFlyToRegion(t){if(!(null==t||t.length<=0)){var e=null;3==parseInt(this.$store.state.user.division_deep||0)?(e=this.$store.state.user.division_id,S.Z.showBackgroud(!1)):S.Z.showParticleGroup(!1);var a=t.filter((t=>t.id==e?.toString()));if(!(null==a||a.length<=0)){var i=null;switch(a[0].code){case 350922:i={center:{x:-16.945,y:0,z:11.155},position:{x:-21.747,y:21.332,z:30.506}};break;case 350925:i={center:{x:-7.71,y:0,z:-.637},position:{x:-11.774,y:22.173,z:6.945}};break;case 350902:i={center:{x:-3.575,y:0,z:7.65},position:{x:-8.999,y:20.315,z:15.919}};break;case 350981:i={center:{x:.322,y:0,z:1.189},position:{x:-12.175,y:26.184,z:11.335}};break;case 350982:i={center:{x:14.249,y:0,z:-2.311},position:{x:9.836,y:25.777,z:10.675}};break;case 350924:i={center:{x:-1.614,y:0,z:-8.539},position:{x:-.546,y:20.147,z:6.283}};break;case 350923:i={center:{x:-17.233,y:0,z:3.101},position:{x:-29.74,y:17.521,z:20.595}};break;case 350926:i={center:{x:5.769,y:0,z:-4.166},position:{x:-3.296,y:16.442,z:8.403}};break;case 350921:i={center:{x:8.419,y:0,z:5.983},position:{x:-4.273,y:23.305,z:18.164}}}null!=i&&S.Z.FlytoCamera(i)}}}}},O=(0,r.Z)(F,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("Left1"),e("Left2"),e("div",{staticClass:"main-nav"},[e("span",{staticClass:"flexcc active",on:{click:function(e){t.testCamera(),t.$router.push("/board/index1")}}},[t._v("线索")]),e("span",{staticClass:"flexcc",on:{click:function(e){return t.$router.push("/")}}},[t._v("案件")])]),e("Right1",{staticClass:"main-right main-right1"}),e("Right2",{staticClass:"main-right main-right2"}),e("Right3",{staticClass:"main-right main-right3"})],1)}),[],!1,null,"3ca4ad8c",null).exports},11159:function(t,e,a){var i=a(55743),s=a.n(i),n=a(48368),o=a(26839),l=a(51223);let r={Desc:"线索",Table:"t_clue",TableType:"Clue"};r.Url={Save:`/api/${r.TableType}/Save_${r.Table}`,GetCount:`/api/${r.TableType}/GetCount_${r.Table}`,GetList:`/api/${r.TableType}/GetList_${r.Table}`,Get:`/api/${r.TableType}/Get_${r.Table}`,Delete:`/api/${r.TableType}/Delete_${r.Table}`},r.ListCols=[{title:"行政区划",dataIndex:"divisionID",show:!0,scopedSlots:{customRender:"divisionID"}},{title:"线索编号",dataIndex:"clueCode",show:!0},{title:"督办类别",dataIndex:"caseCategoryID",show:!0,scopedSlots:{customRender:"caseCategoryID"}},{title:"线索等级",dataIndex:"clueGradeID",show:!0,scopedSlots:{customRender:"clueGradeID"}},{title:"线索来源",dataIndex:"clueSourceID",show:!0,scopedSlots:{customRender:"clueSourceID"}},{title:"产品名称",dataIndex:"name",show:!0},{title:"宣传内容",dataIndex:"content",show:!1},{title:"车牌号",dataIndex:"plateNumber",show:!1},{title:"反馈时间",dataIndex:"respondDate",show:!1,scopedSlots:{customRender:"respondDate"}},{title:"反馈期限",dataIndex:"respondDueDate",show:!1,scopedSlots:{customRender:"respondDueDate"}},{title:"网页链接",dataIndex:"websiteUrl",show:!1},{title:"修改时间",dataIndex:"modifyDate",show:!1,scopedSlots:{customRender:"modifyDate"}},{title:"区县自侦",dataIndex:"isCreatedByCounty",show:!1},{title:"初研结果",dataIndex:"filterResultID",show:!0,scopedSlots:{customRender:"filterResultID"}},{title:"生成时间",dataIndex:"createDate",show:!1,scopedSlots:{customRender:"createDate"}},{title:"线索状态",dataIndex:"clueStateID",show:!0,scopedSlots:{customRender:"clueStateID"}},{title:"线索类别",dataIndex:"clueCategoryID",show:!0,scopedSlots:{customRender:"clueCategoryID"}},{title:"来自于大数据平台",dataIndex:"autoGenerated",show:!1},{title:"下发单位",dataIndex:"assignDeptID",show:!1,scopedSlots:{customRender:"assignDeptID"}},{title:"下发时间",dataIndex:"assignDate",show:!0,scopedSlots:{customRender:"assignDate"}},{title:"操作",dataIndex:"op",show:!0,scopedSlots:{customRender:"op"},fixed:"right",width:380,className:"text-tc"}],r.ListFilter=async t=>{let e=await(0,o.pr)(),a=[...t];return a.map((t=>{t.isCreatedByCounty=null==t.isCreatedByCounty?null:Boolean(t.isCreatedByCounty)?"是":"否",t.autoGenerated=null==t.autoGenerated?null:Boolean(t.autoGenerated)?"是":"否",t.assignDeptID=(0,l.cf)(e,"id",t.assignDeptID,"name")})),a},r.DetailFilter=async t=>{t.isCreatedByCounty=null==t.isCreatedByCounty?null:Boolean(t.isCreatedByCounty)?"是":"否",t.autoGenerated=null==t.autoGenerated?null:Boolean(t.autoGenerated)?"是":"否",t._Attachment_Img=[],t._Attachment_File=[];let e=await(0,n.Z)("/api/Common/GetAttachmentList",{TableName:"t_clue",TableID:t.fid,pageIndex:0,pageSize:100});return e&&e.isOk&&(t._Attachment_Img=e.data.filter((t=>"Img"==t.type)).map((t=>({name:t.name,url:t.relativePath}))),t._Attachment_File=e.data.filter((t=>"File"==t.type)).map((t=>({name:t.name,url:t.relativePath})))),Object.assign({},t)},r.EditRules={name:[{required:!0,message:"请输入产品名称",trigger:"blur"}],divisionID:[{required:!0,trigger:"change",type:"object",validator:async(t,e)=>parseInt(e)>0?Promise.resolve():Promise.reject("请选择行政区划")}]},r.EditFilter=async t=>{let e={fid:0,contactInfoList:{items:[]},customFieldList:{items:[]},debitCardNumberList:{items:[]},expressNumberList:{items:[]},createDate:s()().toString()};if(null!=t){null==t.divisionID&&(t.divisionID=void 0),null==t.filterResultID&&(t.filterResultID=void 0),null==t.caseCategoryID&&(t.caseCategoryID=void 0),null==t.clueCategoryID&&(t.clueCategoryID=void 0),null==t.clueGradeID&&(t.clueGradeID=void 0),null==t.clueSourceID&&(t.clueSourceID=void 0),null==t.clueStateID&&(t.clueStateID=void 0),null==t.contactInfoList?t.contactInfoList={items:[]}:t.contactInfoList.items=t.contactInfoList.items.filter((t=>(t.name+t.phone+t.wechat+t.qq+t.plateNumber).length>0)),null==t.customFieldList?t.customFieldList={items:[]}:t.customFieldList.items=t.customFieldList.items.filter((t=>(t.fieldName+t.fieldValue).length>0)),null==t.debitCardNumberList?t.debitCardNumberList={items:[]}:t.debitCardNumberList.items=t.debitCardNumberList.items.filter((t=>(t.fieldName+t.fieldValue).length>0)),null==t.expressNumberList?t.expressNumberList={items:[]}:t.expressNumberList.items=t.expressNumberList.items.filter((t=>(t.fieldName+t.fieldValue).length>0)),t._Attachment_Img=[],t._Attachment_File=[];let e=await(0,n.Z)("/api/Common/GetAttachmentList",{TableName:"t_clue",TableID:t.fid,pageIndex:0,pageSize:100});e&&e.isOk&&(t._Attachment_Img=e.data.filter((t=>"Img"==t.type)).map((t=>({name:t.name,url:t.relativePath}))),t._Attachment_File=e.data.filter((t=>"File"==t.type)).map((t=>({name:t.name,url:t.relativePath}))))}return Object.assign(e,t)},r.SaveFilter=t=>{let e=Object.assign({},t);return delete e._Attachment_Img,delete e._Attachment_File,e.isCreatedByCounty=null,e.modifyDate=s()().toJSON(),null!=e.assignDate&&(e.assignDate=s()(e.assignDate).toJSON()),null!=e.respondDate&&(e.respondDate=s()(e.respondDate).toJSON()),null!=e.respondDueDate&&(e.respondDueDate=s()(e.respondDueDate).toJSON()),e},r.SaveFilterEnd=async t=>{await(0,n.Z)("/api/Common/SaveAttachments",[{tableName:"t_clue",type:"Img",tableID:t.fid,relativePaths:t._Attachment_Img.map((t=>t.url))},{tableName:"t_clue",type:"File",tableID:t.fid,relativePaths:t._Attachment_File.map((t=>t.url))}])},e.Z=r}}]);